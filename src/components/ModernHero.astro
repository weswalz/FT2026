---
interface Props {
  images: string[];
}

const { images } = Astro.props;
const noiseTexture =
  "data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E";
---

<div class="relative h-full overflow-hidden bg-midnight">
  <!-- Animated Background Slider -->
  <div id="modern-hero-slider" class="absolute inset-0">
    {images.map((image, index) => (
      <div
        class={`absolute inset-0 transition-opacity duration-[2000ms] ${index === 0 ? 'opacity-100' : 'opacity-0'}`}
        data-slide={index}
      >
        <img
          src={image}
          alt=""
          class="w-full h-full object-cover scale-110"
          style="animation: kenBurns 20s ease-out infinite;"
        />
      </div>
    ))}
  </div>

  <!-- Modern Gradient Overlay -->
  <div class="absolute inset-0 bg-gradient-to-br from-midnight/80 via-field-navy/60 to-midnight/90 mix-blend-multiply"></div>

  <!-- Animated Grain Texture -->
  <div class="absolute inset-0 opacity-30 mix-blend-overlay" style={`background-image: url('${noiseTexture}')`}></div>

  <!-- Content Container -->
  <div class="relative h-full flex items-center justify-center px-4">
    <div class="max-w-7xl mx-auto w-full">
      <!-- Modern Split Layout -->
      <div class="grid lg:grid-cols-12 gap-8 lg:gap-16 items-center">
        <!-- Left: Massive Typography -->
        <div class="lg:col-span-7 space-y-8">
          <div class="space-y-4">
            <div class="inline-block px-6 py-2 rounded-full bg-champagne/20 backdrop-blur-md border border-champagne/30">
              <span class="text-champagne font-bold text-sm tracking-widest uppercase">Houston Heights</span>
            </div>

            <h1 class="text-white leading-[0.9] tracking-tighter">
              <span class="block text-[clamp(4rem,12vw,10rem)] font-black">Field</span>
              <span class="block text-[clamp(4rem,12vw,10rem)] font-black text-champagne">&</span>
              <span class="block text-[clamp(4rem,12vw,10rem)] font-black">Tides</span>
            </h1>

            <p class="text-2xl md:text-3xl lg:text-4xl text-white/90 font-light max-w-2xl leading-tight">
              Where coastal flavors meet culinary artistry
            </p>
          </div>

          <div class="flex flex-wrap gap-4">
            <a
              href="/menu"
              class="group relative px-8 py-5 bg-champagne text-midnight font-bold text-lg rounded-2xl overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-champagne/50"
            >
              <span class="relative z-10">Explore Menus</span>
              <div class="absolute inset-0 bg-gradient-to-r from-champagne to-copper transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"></div>
            </a>

            <a
              href="/contact"
              class="group px-8 py-5 bg-white/10 backdrop-blur-md text-white font-bold text-lg rounded-2xl border-2 border-white/30 hover:bg-white/20 hover:border-white/50 transition-all duration-300 hover:scale-105"
            >
              Reserve Now
              <span class="inline-block ml-2 transition-transform group-hover:translate-x-1">â†’</span>
            </a>
          </div>
        </div>

        <!-- Right: Modern Info Cards -->
        <div class="lg:col-span-5 space-y-4">
          <div class="backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl p-8 transform hover:scale-105 transition-all duration-500 hover:bg-white/15">
            <div class="text-white/80 text-2xl font-heading tracking-[0.4em] mb-4">SEA</div>
            <h3 class="text-2xl font-bold text-white mb-2">Fresh Gulf Seafood</h3>
            <p class="text-white/80 text-lg">Locally sourced from the Texas coast</p>
          </div>

          <div class="backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl p-8 transform hover:scale-105 transition-all duration-500 hover:bg-white/15">
            <div class="text-white/80 text-2xl font-heading tracking-[0.4em] mb-4">FIELD</div>
            <h3 class="text-2xl font-bold text-white mb-2">Farm-Fresh Ingredients</h3>
            <p class="text-white/80 text-lg">Seasonal produce from local partners</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scroll Indicator -->
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
    <div class="w-6 h-10 border-2 border-white/50 rounded-full flex justify-center p-2">
      <div class="w-1 h-2 bg-white/80 rounded-full animate-pulse"></div>
    </div>
  </div>
</div>

<style>
  @keyframes kenBurns {
    0%, 100% { transform: scale(1.1) translate(0, 0); }
    50% { transform: scale(1.15) translate(-2%, -2%); }
  }
</style>

<script>
  function initModernHeroSlider() {
    const slides = document.querySelectorAll('#modern-hero-slider [data-slide]');
    if (slides.length === 0) return;

    let currentSlide = 0;

    function showSlide(index: number) {
      slides.forEach((slide, i) => {
        if (i === index) {
          slide.classList.remove('opacity-0');
          slide.classList.add('opacity-100');
        } else {
          slide.classList.remove('opacity-100');
          slide.classList.add('opacity-0');
        }
      });
    }

    function nextSlide() {
      currentSlide = (currentSlide + 1) % slides.length;
      showSlide(currentSlide);
    }

    // Auto-advance every 5 seconds
    setInterval(nextSlide, 5000);
  }

  document.addEventListener('DOMContentLoaded', initModernHeroSlider);
  document.addEventListener('astro:page-load', initModernHeroSlider);
</script>
